<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Authors</title>

    <link rel=stylesheet href="static/css/common.css"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css"
          integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
</head>
<body th:fragment="authors">
<div id="add-row">
    <input class="form-control mr-sm-2 d-inline width" type="text" name="title" placeholder="Title">
    <input class="form-control mr-sm-2 d-inline width" type="text" name="firstName" placeholder="First name" required>
    <input class="form-control mr-sm-2 d-inline width" type="text" name="lastName" placeholder="Last name" required>
    <input class="form-check-input position-static width" type="checkbox" name="easternNameOrder"
           title="Eastern name order">
    <!--TODO add bootstrap select boxes for selecting books and translations-->
    <div class="btn btn-primary" id="button" style="display: inline-block" data-url="/authors">Add</div>
</div>

<table id="authorList">
    <thead>
        <th>Title</th>
        <th>Last Name</th>
        <th>First Name</th>
        <th>Eastern Name Order</th>
        <th>Birth</th>
        <th>Death</th>
        <th>List of Books</th>
        <th>List of Translations</th>
        <th></th>
        <th></th>
    </thead>
    <tbody>
        <!--/*@thymesVar id="authors" type="java.util.ArrayList<com.codecool.library.model.Author>"*/-->
        <tr th:each="author : ${authors}">
            <td contenteditable class="editable" data-field="title" th:text="${author.title}"></td>
            <td contenteditable class="editable" data-field="lastName" th:text="${author.lastName}"></td>
            <td contenteditable class="editable" data-field="firstName" th:text="${author.firstName}"></td>
            <td class="editable" data-field="easternNameOrder">
                <input type="checkbox" th:checked="${author.easternNameOrder}" title="">
            </td>
            <td contenteditable class="editable" data-field="birthYear" th:text="${author.birthYear}"></td>
            <td contenteditable class="editable" data-field="deathYear" th:text="${author.deathYear}"></td>
            <td class="btn btn-secondary text-center">
                <div class="modal-button" data-toggle="modal" data-target="#list-modal"
                        th:data-url="'/authors/'+${author.id}+'/bookList'" data-name-in-json="books">
                    Books
                </div>
            </td>
            <td class="btn btn-secondary text-center">
                <div class="modal-button" data-toggle="modal" data-target="#list-modal"
                        th:data-url="'/authors/'+${author.id}+'/translationList'" data-name-in-json="translations">
                    Translations
                </div>
            </td>
            <td class="btn btn-success">
                <div class="button" th:data-url="'/authors/'+${author.id}" th:data-method="'PATCH'">PATCH</div>
            </td>
            <td class="btn btn-danger">
                <div class="button" th:data-url="'/authors/'+${author.id}" th:data-method="'DELETE'">DELETE</div>
            </td>
        </tr>
    </tbody>
</table>
</body>
</html>